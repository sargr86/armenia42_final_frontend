<mat-card [class.auth]="!_auth.loggedIn()">
  <div class="storyContainer">
    <div class="galleryContainer" *ngIf="galleryImages && viewMode=='gallery'">
      <ngx-gallery [options]="galleryOptions" [images]="galleryImages"></ngx-gallery>
    </div>

    <!-- Images list for authenticated users -->
    <ul class="images" *ngIf="galleryImages && viewMode=='list' && _auth.loggedIn()">
      <ng-container *ngFor="let i of galleryImages">
        <li class="image">
          <div class="imageContainer"
               [style.background-image]="getImgUrl(i['small'])">
            <ng-container class="buttonsContainer" *ngIf="_auth.loggedIn()">
              <button (click)="editImageInfo(i.id)" class="editStory">
                <i class="fas fa-edit"></i>
              </button>
              <button class="removeImage" (click)="remove(i.id)">
                <i class="fas fa-times-circle"></i>
              </button>
              <button class="makeCover" [class.selectedBg]="i.cover">
                <p>1</p>
              </button>
              <button class="makeFavorite" (click)="makeFav(i.id)" [class.selected]="i.fav">
                <i class="fas fa-star"></i>
              </button>
            </ng-container>

          </div>
        </li>
      </ng-container>
    </ul>


    <div *ngIf="galleryImages">
      <h3 class="storyTitle">{{routeData['name_'+lang]}}</h3>

      <preview-gallery [galleryImages]="galleryImages"></preview-gallery>

      <p class="storyDesc">{{routeData['description_'+lang]}}</p>
    </div>
  </div>
</mat-card>
